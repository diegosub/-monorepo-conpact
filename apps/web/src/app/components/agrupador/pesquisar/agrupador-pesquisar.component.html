<div id="page-head">
	<div id="page-title">
		<h1 class="page-header text-overflow">Agrupador</h1>
	</div>

	<ol class="breadcrumb">
	  <li><i class="fa fa-th"></i></li>
	  <li>Agrupador</li>
	  <li class="active">Pesquisar</li>
	</ol>
</div>

<div id="page-content">
	<div class="panel">
		<div class="panel-heading">
			<h3 class="panel-title">Pesquisa de Agrupadores</h3>
		</div>

		<!--Block Styled Form -->
		<!--===================================================-->
		<form class="form" [formGroup]="formulario">
			<div class="panel-body">
					<div class="row">
						<div class="col-sm-8">
							<div class="form-group" style="width:100%">
								<label>Descrição</label>
								<input id="nome" autocomplete="off" class="form-control" maxlength="50"
                     name="descricao" formControlName="descricao" type="text">
							</div>
						</div>

						<div class="col-sm-4">
							<div class="form-group">
								<label class="control-label">Situação</label>
								<div class="radio">
									<input id="demo-inline-form-radio-4" class="magic-radio" type="radio" formControlName="ativo" name="ativo" [value]="''">
									<label for="demo-inline-form-radio-4">Todos</label>
									<input id="demo-inline-form-radio-5" class="magic-radio" type="radio" formControlName="ativo" name="ativo" [value]="true">
									<label for="demo-inline-form-radio-5">Ativos</label>
									<input id="demo-inline-form-radio-6" class="magic-radio" type="radio" formControlName="ativo" name="ativo" [value]="false">
									<label for="demo-inline-form-radio-6">Inativos</label>
								</div>
							</div>
						</div>
					</div>

					<div class="panel-footer-search">
						<div style="padding-top:15px; padding-bottom: 15px;">
							<button (click)="pesquisar()" type="button" class="btn btn-primary btn-labeled">
								<i class="btn-label ion-search"></i>
								Pesquisar
							</button>
							<button routerLink="/agrupador/atualizar" type="button" class="btn btn-primary btn-labeled">
								<i class="btn-label fa fa-plus"></i>
								Novo
							</button>
						</div>
					</div>
				<br/>

				<div class="table-responsive">
					<table class="table table-striped table-hover" *ngIf="lista.length > 0" matSort (matSortChange)="ordenar($event)">
						<thead>
							<tr>
								<th mat-sort-header="descricao" disableClear>Descrição</th>
								<th mat-sort-header="ativo" disableClear>Ativo?</th>
								<th style="width: 5%;"></th>
								<th style="width: 5%;"></th>
								<th style="width: 5%;"></th>
							</tr>
						</thead>

						<tbody>
							<tr *ngFor="let item of lista">
								<td>{{item.descricao}}</td>
								<td>
									<span *ngIf="!item.ativo">NÃO</span>
									<span *ngIf="item.ativo">SIM</span>
								</td>
								<td><i class="fa fa-search" (click)="visualizar(item.codigo)" style="font-size: 16px; cursor: pointer; vertical-align: bottom;" matTooltip="Visualizar"></i></td>
								<td><i class="fa fa-edit" (click)="alterar(item.codigo)" style="font-size: 16px; cursor: pointer; vertical-align: bottom;" matTooltip="Editar"></i></td>
								<td>
									<i *ngIf="item.ativo"  class="fa fa-remove" (click)="inativar(item.codigo)" style="font-size: 18px; cursor: pointer;" matTooltip="Inativar"></i>
									<i *ngIf="!item.ativo" class="ion ion-reply-all" (click)="ativar(item.codigo)" style="font-size: 18px; cursor: pointer;" matTooltip="Reativar"></i>
								</td>
							</tr>
						</tbody>


					</table>


					<p *ngIf="lista.length == 0" style="text-align: center;">Nenhum registro foi encontrado.</p>
					<p *ngIf="lista.length == 1" style="text-align: right;">Foi encontrado 1 registro.</p>
					<p *ngIf="lista.length > 1" style="text-align: right;">Foram encontrados {{lista.length}} registros.</p>

				</div>
				<br/>
			</div>
		</form>
		<!--===================================================-->
		<!-- End Striped Table -->
	</div>
</div>

